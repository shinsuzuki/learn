# Vim 基本操作

## ノーマルモード

### ファイル操作

|             内容             |     コマンド      |
| :--------------------------: | :---------------: |
|      ファイルを開き直す      |     :e or :e!     |
|        ファイルを開く        |     :e {file}     |
|       ウィンドウを消す       |     :q or :q!     |
|          上書き保存          |     :w or :w!     |
| 上書き保存でウィンドウを消す |    :wq or :wq!    |
|    全て上書き保存して終了    | :wqall or :wqall! |

### モード切替

|               内容               | コマンド |
| :------------------------------: | :------: |
|         インサートモード         |    i     |
|      行頭でインサートモード      |    I     |
|  カーソル直後でインサートモード  |    a     |
|      行末でインサートモード      |    A     |
|   行を追加してインサートモード   |    o     |
| 上に行を追加してインサートモード |    O     |
|          ノーマルモード          |   ESC    |

### ウィンドウ操作

|            内容            |          コマンド           |
| :------------------------: | :-------------------------: |
|   新しくウィンドウを開く   |     :new or :new {file}     |
|  一つ前のウィンドウに移動  |          ctrl-w w           |
|      新しいタブを開く      |  :tabnew or :tabnew {file}  |
|    次のタブに切り替える    |       :tabNext or gt        |
|    前のタブに切り替える    |     :tabPrevious or gT      |
|          タブ一覧          |            :tabs            |
| ウィンドウを縦分割して開く | :split {file} or vp {file}  |
| ウィンドウを横分割して開く | :vsplit {file} or vs {file} |
|     ウィンドウを閉じる     |           :close            |
| 現在のウィンドウのみを表示 |            :only            |
|  ウィンドウの縦幅を広げる  |    ctrl-w + or ctrl-w -     |
|  ウィンドウの横幅を広げる  |      ctrl-w > ctrl-w <      |
|     ウィンドウを閉じる     |          ctrl-w c           |
|      ウィンドウを消す      |          ctrl-w q           |

## インサートモード

### 移動

|            内容             |    コマンド     |
| :-------------------------: | :-------------: |
|      上 / 下 / 左 / 右      |  k / j / h / l  |
|      pageup/ pagedown       | ctrl-u / ctrl-d |
|            行頭             |     0 or ^      |
|            行末             |        $        |
|          次の単語           |        w        |
|          前の単語           |        b        |
|     文字 x までジャンプ     |       f-x       |
| 逆方向へ文字 x までジャンプ |       F-x       |
|    対応するカッコへ移動     |        %        |
|        先頭行へ移動         |       gg        |
|        最終行へ移動         |        G        |

### 検索

|          内容          | コマンド |
| :--------------------: | :------: |
|      text を検索       |  /text   |
|        次を検索        |    n     |
|        前を検索        |    N     |
| カーソル下の単語を検索 |    \*    |

### 置換

|           内容           |    コマンド    |
| :----------------------: | :------------: |
|     最初の単語を置換     |  :s/foo/bar/   |
|       1 行内で置換       |  :s/foo/bar/g  |
| 1 行内で確認しながら置換 | :s/foo/bar/gc  |
|        全体で置換        | :%s/foo/bar/g  |
|  全体で確認しながら置換  | :%s/foo/bar/gc |

### 編集

|                内容                | コマンド |
| :--------------------------------: | :------: |
|       カーソル下の文字を削除       |    x     |
|             行をコピー             | yy or Y  |
|            全体をコピー            |   :%y    |
| コピー(ヴィジュアルモードで選択後) |    y     |
|              貼り付け              |    p     |
|              行を削除              |    dd    |
|             全体を削除             |   :%d    |
|  削除（ビジュアルモードで選択後）  |    d     |
|   カーソル位置から行末までを削除   |    D     |
|              やり直し              |    u     |

### ビジュアル選択

|                      内容                       | コマンド |
| :---------------------------------------------: | :------: |
|                    領域選択                     |    v     |
| 矩形選択 <br>※WSL2 は操作から ctrl+v を削除する |  ctrl-v  |
|                    行を選択                     |    V     |
|                  全ての行選択                   |   ggVG   |

### レジスタ

|                 内容                  |                コマンド                |
| :-----------------------------------: | :------------------------------------: |
| レジスタ貼り付け<br>※ビジュアルモード |             "レジスタ名 p              |
| レジスタ貼り付け<br>※インサートモード | ctrl-r で " を表示後にレジスタ名を入力 |

## コマンドモード

###

|                   内容                   | コマンド |
| :--------------------------------------: | :------: |
|            外部コマンドを実行            |  !{cmd}  |
| 外部コマンドを実行、結果をバッファに書込 | r!{cmd}  |
